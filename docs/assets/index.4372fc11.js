import{o as n,c as i,w as m,v as y,a as o,b as B,F as d,r as h,t as u,d as N,n as _,p as S,e as k,f as v,g,h as C}from"./vendor.989a8371.js";const $=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))c(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const t of s.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&c(t)}).observe(document,{childList:!0,subtree:!0});function l(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerpolicy&&(s.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?s.credentials="include":a.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(a){if(a.ep)return;a.ep=!0;const s=l(a);fetch(a.href,s)}};$();function b(e,r,l,c,a,s){return n(),i("nav",null,[m(o("input",{"onUpdate:modelValue":r[0]||(r[0]=t=>e.name=t),placeholder:"\u0418\u043C\u044F"},null,512),[[y,e.name]]),m(o("select",{"onUpdate:modelValue":r[1]||(r[1]=t=>e.status=t)},[(n(!0),i(d,null,h(e.statusList,t=>(n(),i("option",null,u(t),1))),256))],512),[[B,e.status]]),o("button",{onClick:r[2]||(r[2]=(...t)=>s.filter&&s.filter(...t))},"\u041F\u0440\u0438\u043C\u0435\u043D\u0438\u0442\u044C")])}var p=(e,r)=>{const l=e.__vccOpts||e;for(const[c,a]of r)l[c]=a;return l};const w={data:()=>({name:"",status:"",statusList:["unknown","Alive","Dead"]}),methods:{filter(){this.$emit("filter",{name:this.name,status:this.status})}},emits:{filter:null}};var L=p(w,[["render",b],["__scopeId","data-v-6ecf12c8"]]);const T=e=>(S("data-v-aefa08c0"),e=e(),k(),e),M={class:"main"},A={key:0,class:"nav-pag"},I=["onClick"],P={key:1,class:"article-list"},F={class:"article__wrapper"},O=["src"],V={class:"article__inner"},D={class:"status"},E=T(()=>o("h3",null,"Last known location:",-1)),U={key:2,class:"loader"};function q(e,r,l,c,a,s){return n(),i("div",M,[e.loading?N("",!0):(n(),i("div",A,[(n(!0),i(d,null,h(e.pages,t=>(n(),i("div",{class:_(["page",{underlined:t===e.page}]),onClick:f=>s.goToPage(t)},u(t),11,I))),256))])),e.loading?(n(),i("div",U)):(n(),i("div",P,[(n(!0),i(d,null,h(e.characters,t=>(n(),i("article",F,[o("img",{alt:"c.name",src:t.image},null,8,O),o("div",V,[o("h1",null,u(t.name),1),o("div",D,[o("div",{class:_(["status-icon",s.iconColor(t.status)])},null,2),o("span",null,u(t.status)+" - "+u(t.species),1)]),E,o("p",null,u(t.location.name),1)])]))),256))]))])}const z={props:{filterByName:String,filterByStatus:String},data:()=>({characters:[],pages:1,page:1,loading:!1}),watch:{filterByName(e){this.fetchCharacters()},filterByStatus(e){this.fetchCharacters()}},methods:{goToPage(e){this.page=e,this.fetchCharacters()},fetchPagesTotal(){return fetch("https://rickandmortyapi.com/api/character/?"+(this.filterByName?"name="+this.filterByName:"")+(this.filterByStatus?"&status="+this.filterByStatus:"")).then(e=>e.json()).then(e=>{var r;return this.pages=(r=e==null?void 0:e.info)==null?void 0:r.pages})},fetchCharacters(){this.loading=!0,this.fetchPagesTotal().then(fetch("https://rickandmortyapi.com/api/character/?page="+ +this.page+(this.filterByName?"&name="+this.filterByName:"")+(this.filterByStatus?"&status="+this.filterByStatus:"")).then(e=>e.json()).then(e=>{this.characters=e.results,this.loading=!1}))},iconColor(e){switch(e){case"unknown":return"icon-gray";case"Alive":return"icon-green";case"Dead":return"icon-red"}}},mounted(){this.fetchCharacters()}};var K=p(z,[["render",q],["__scopeId","data-v-aefa08c0"]]);function G(e,r,l,c,a,s){const t=v("TheNavbar"),f=v("Main");return n(),i(d,null,[g(t,{class:"mb-8",onFilter:s.filterBy},null,8,["onFilter"]),g(f,{filterByName:e.name,filterByStatus:e.status},null,8,["filterByName","filterByStatus"])],64)}const H={data:()=>({name:"",status:""}),methods:{filterBy(e){this.name=e.name,this.status=e.status}},components:{TheNavbar:L,Main:K}};var J=p(H,[["render",G]]);C(J).mount("#app");
